{"version":3,"file":"Expandable.stories-b20e8eb4.js","sources":["../../packages/expandable/src/component.tsx"],"sourcesContent":["import { classNames } from \"@chbphone55/classnames\";\nimport {\n  box as ccBox,\n  expandable as ccExpandable,\n} from \"@warp-ds/css/component-classes\";\nimport React from \"react\";\nimport { ExpandTransition, UnstyledHeading } from \"../../_helpers\";\nimport { ExpandableProps } from \"./props\";\nimport { IconChevronDown16 } from \"@warp-ds/icons/react\";\n\nexport function Expandable(props: ExpandableProps) {\n  const {\n    children,\n    expanded = false,\n    title = \"\",\n    info = false,\n    box = false,\n    bleed = false,\n    buttonClass = \"\",\n    contentClass = \"\",\n    className,\n    onChange,\n    chevron = true,\n    animated,\n    headingLevel,\n    ...rest\n  } = props;\n\n  const [stateExpanded, setStateExpanded] = React.useState(expanded);\n\n  React.useEffect(() => {\n    setStateExpanded(expanded);\n  }, [expanded]);\n\n  const toggleExpandable = (state) => {\n    setStateExpanded(!state);\n    if (onChange) onChange(!state);\n  };\n\n  return (\n    <div\n      {...rest}\n      className={classNames(className, {\n        [ccExpandable.expandable]: true,\n        [ccExpandable.expandableBox]: box,\n        [ccExpandable.expandableBleed]: bleed,\n      })}\n    >\n      <UnstyledHeading level={headingLevel}>\n        <button\n          type=\"button\"\n          aria-expanded={stateExpanded}\n          className={classNames({\n            [buttonClass || \"\"]: true,\n            [ccExpandable.button]: true,\n            [ccExpandable.buttonBox]: box,\n          })}\n          onClick={() => toggleExpandable(stateExpanded)}\n        >\n          <div className={ccExpandable.title}>\n            {typeof title === \"string\" ? (\n              <span className={ccExpandable.titleType}>{title}</span>\n            ) : (\n              title\n            )}\n            {chevron && (\n              <div\n                className={classNames({\n                  [ccExpandable.chevron]: true,\n                  [ccExpandable.chevronExpanded]: stateExpanded,\n                  [ccExpandable.chevronBox]: box,\n                  [ccExpandable.chevronNonBox]: !box,\n                })}\n              >\n                <IconChevronDown16 />\n              </div>\n            )}\n          </div>\n        </button>\n      </UnstyledHeading>\n      <ExpansionBehaviour animated={animated} stateExpanded={stateExpanded}>\n        <div\n          className={classNames({\n            [contentClass || \"\"]: true,\n            [ccBox.box]: box,\n            [ccExpandable.paddingTop]: box && title,\n          })}\n        >\n          {children}\n        </div>\n      </ExpansionBehaviour>\n    </div>\n  );\n}\n\nfunction ExpansionBehaviour({ animated, stateExpanded, children }) {\n  return animated ? (\n    <ExpandTransition show={stateExpanded}>{children}</ExpandTransition>\n  ) : (\n    <div\n      className={classNames({\n        [ccExpandable.expansion]: true,\n        [ccExpandable.expansionNotExpanded]: !stateExpanded,\n      })}\n      aria-hidden={!stateExpanded ? true : undefined}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":["Expandable","props","children","expanded","title","info","box","bleed","buttonClass","contentClass","className","onChange","chevron","animated","headingLevel","rest","stateExpanded","setStateExpanded","React","toggleExpandable","state","jsxs","classNames","ccExpandable","jsx","UnstyledHeading","IconChevronDown16","ExpansionBehaviour","ccBox","ExpandTransition"],"mappings":"+SAUO,SAAAA,EAAAC,EAAA,CACL,KAAA,CAAM,SAAAC,EACJ,SAAAC,EAAA,GACW,MAAAC,EAAA,GACH,KAAAC,GAAA,GACDC,IAAAA,EAAA,GACD,MAAAC,EAAA,GACE,YAAAC,EAAA,GACM,aAAAC,EAAA,GACC,UAAAC,GACf,SAAAC,EACA,QAAAC,GAAA,GACU,SAAAC,GACV,aAAAC,GACA,GAAAC,EACG,EAAAd,EAGL,CAAAe,EAAAC,CAAA,EAAAC,EAAA,SAAAf,CAAA,EAEAe,EAAA,UAAA,IAAA,CACED,EAAAd,CAAA,CAAyB,EAAA,CAAAA,CAAA,CAAA,EAG3B,MAAAgB,GAAAC,GAAA,CACEH,EAAA,CAAAG,CAAA,EACAT,GAAcA,EAAA,CAAAS,CAAA,CAAe,EAG/B,OAAAC,EAAA,KACE,MAAC,CAAA,GAAAN,GACK,UAAAO,EAAAZ,GAAA,CAC6B,CAAAa,EAAA,UAAA,EAAA,GACJ,CAAAA,EAAA,aAAA,EAAAjB,EACG,CAAAiB,EAAA,eAAA,EAAAhB,CACE,CAAA,EACjC,SAAA,CAEDiB,EAAAA,IAAAC,GAAA,CAAA,MAAAX,GAAA,SAAAU,EAAA,IACE,SAAC,CAAA,KAAA,SACM,gBAAAR,EACU,UAAAM,EAAA,CACO,CAAAd,GAAA,EAAA,EAAA,GACC,CAAAe,EAAA,MAAA,EAAA,GACE,CAAAA,EAAA,SAAA,EAAAjB,CACG,CAAA,EAC3B,QAAA,IAAAa,GAAAH,CAAA,EAC4C,SAAAK,EAAA,KAAA,MAAA,CAAA,UAAAE,EAAA,MAAA,SAAA,CAG1C,OAAAnB,GAAA,SAAAoB,EAAA,IAAA,OAAA,CAAA,UAAAD,EAAA,UAAA,SAAAnB,CAAA,CAAA,EAAAA,EAGCQ,IAAAY,EAAA,IAGA,MAAC,CAAA,UAAAF,EAAA,CACuB,CAAAC,EAAA,OAAA,EAAA,GACI,CAAAA,EAAA,eAAA,EAAAP,EACQ,CAAAO,EAAA,UAAA,EAAAjB,EACL,CAAAiB,EAAA,aAAA,EAAA,CAAAjB,CACI,CAAA,EAChC,SAAAkB,EAAAA,IAAAE,GAAA,EAAA,CAEkB,CAAA,CACrB,EAAA,CAEJ,CAAA,EAAA,EAEJF,EAAAA,IAAAG,GAAA,CAAA,SAAAd,GAAA,cAAAG,EAAA,SAAAQ,EAAA,IAEE,MAAC,CAAA,UAAAF,EAAA,CACuB,CAAAb,GAAA,EAAA,EAAA,GACE,CAAAmB,GAAA,GAAA,EAAAtB,EACT,CAAAiB,EAAA,UAAA,EAAAjB,GAAAF,CACqB,CAAA,EACnC,SAAAF,CAEA,CAAA,EAAA,CAEL,CAAA,CAAA,CAGN,CAEA,SAAAyB,GAAA,CAAA,SAAAd,EAAA,cAAAG,EAAA,SAAAd,CAAA,EAAA,CACE,OAAAW,EAAAW,EAAA,IAAAK,GAAA,CAAA,KAAAb,EAAA,SAAAd,CAAA,CAAA,EAAAsB,EAAA,IAGE,MAAC,CAAA,UAAAF,EAAA,CACuB,CAAAC,EAAA,SAAA,EAAA,GACM,CAAAA,EAAA,oBAAA,EAAA,CAAAP,CACY,CAAA,EACvC,cAAAA,EAAA,OAAA,GACoC,SAAAd,CAEpC,CAAA,CAGP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}