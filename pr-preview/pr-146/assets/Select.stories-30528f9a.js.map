{"version":3,"file":"Select.stories-30528f9a.js","sources":["../../packages/select/src/locales/nb/messages.mjs","../../packages/select/src/locales/en/messages.mjs","../../packages/select/src/locales/fi/messages.mjs","../../packages/select/src/component.tsx"],"sourcesContent":["/*eslint-disable*/export const messages=JSON.parse(\"{\\\"select.label.optional\\\":\\\"(valgfritt)\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"select.label.optional\\\":\\\"(optional)\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"select.label.optional\\\":\\\"(valinnainen)\\\"}\");","import * as React from 'react';\nimport { i18n } from '@lingui/core';\nimport { select as ccSelect, label as ccLabel, helpText as ccHelpText } from '@warp-ds/css/component-classes';\nimport { useId } from '../../utils/src';\nimport { classNames } from '@chbphone55/classnames';\nimport type { SelectProps } from './props';\nimport { IconChevronDown16 } from '@warp-ds/icons/react';\nimport { messages as nbMessages} from './locales/nb/messages.mjs';\nimport { messages as enMessages} from './locales/en/messages.mjs';\nimport { messages as fiMessages} from './locales/fi/messages.mjs';\nimport { activateI18n } from '../../i18n';\n\nconst setup = (props) => {\n  const {\n    className,\n    invalid,\n    id,\n    hint,\n    always,\n    label,\n    style,\n    optional,\n    readOnly,\n    disabled,\n    ...rest\n  } = props;\n\n  activateI18n(enMessages, nbMessages, fiMessages);\n\n  const helpId = hint ? `${id}__hint` : undefined;\n\n  return {\n    attrs: {\n      div: {\n        style,\n      },\n      label: {\n        htmlFor: id,\n        children: label,\n      },\n      select: {\n        ...rest,\n        'aria-describedby': helpId,\n        'aria-errormessage': invalid && helpId ? helpId : undefined,\n        'aria-invalid': invalid,\n        disabled,\n        id,\n      },\n      optional,\n      help:\n        always || invalid\n          ? {\n              children: hint,\n              id: helpId,\n            }\n          : null,\n    },\n    wrapperClasses: classNames(ccSelect.wrapper, className),\n    selectClasses:  classNames({\n      [ccSelect.default]: true,\n      [ccSelect.invalid]: invalid,\n      [ccSelect.disabled]: disabled,\n      [ccSelect.readOnly]: readOnly\n    }),\n    selectWrapperClasses: classNames({\n      [ccSelect.selectWrapper]: true,\n    }),\n    helpTextClasses: classNames({\n      [ccHelpText.helpText]: true,\n      [ccHelpText.helpTextInvalid]: invalid\n    }),\n    labelClasses: classNames({\n      [ccLabel.label]: true,\n      [ccLabel.labelInvalid]: invalid\n    }),\n    chevronClasses: classNames({\n      [ccSelect.chevron]: true,\n      [ccSelect.chevronDisabled]: disabled,\n    })\n  };\n};\n\nfunction Select(props: SelectProps, ref: React.Ref<HTMLSelectElement>) {\n  const id = useId(props.id);\n  const { attrs, wrapperClasses, selectClasses, selectWrapperClasses, helpTextClasses, labelClasses, chevronClasses } = setup({ ...props, id });\n  const { div, label, select, help, optional } = attrs;\n\n  return (\n    <div className={wrapperClasses} {...div}>\n      {label.children && (\n        <label htmlFor={label.htmlFor} className={labelClasses}>\n          {label.children}\n          {optional && (\n            <span className={ccLabel.optional}>\n              {i18n._(\n                /*i18n*/ {\n                  id: 'select.label.optional',\n                  message: '(optional)',\n                  comment: 'Shown behind label when marked as optional',\n                },\n              )}\n            </span>\n          )}\n        </label>\n      )}\n      <div className={selectWrapperClasses}>\n        <select ref={ref} {...select} className={selectClasses}/>\n          <div\n            className={classNames(chevronClasses)}\n          >\n            <IconChevronDown16 />\n          </div>\n      </div>\n      {help && <div className={helpTextClasses} {...help} />}\n    </div>\n  );\n}\n\nconst _Select = React.forwardRef(Select);\nexport { _Select as Select };\n"],"names":["messages","setup","props","className","invalid","id","hint","always","label","style","optional","readOnly","disabled","rest","activateI18n","enMessages","nbMessages","fiMessages","helpId","classNames","ccSelect","ccHelpText","ccLabel","Select","ref","useId","attrs","wrapperClasses","selectClasses","selectWrapperClasses","helpTextClasses","labelClasses","chevronClasses","div","select","help","jsxs","jsx","i18n","IconChevronDown16","_Select","React.forwardRef"],"mappings":"yTAAyB,MAAMA,EAAS,KAAK,MAAM,yCAA6C,ECAjEA,EAAS,KAAK,MAAM,wCAA4C,ECAhEA,GAAS,KAAK,MAAM,2CAA+C,ECYlGC,GAAAC,GAAA,CACE,KAAA,CAAM,UAAAC,EACJ,QAAAC,EACA,GAAAC,EACA,KAAAC,EACA,OAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,SAAAC,EACA,SAAAC,EACA,GAAAC,CACG,EAAAX,EAGLY,EAAAC,EAAAC,EAAAC,EAAA,EAEA,MAAAC,EAAAZ,EAAA,GAAAD,UAAA,OAEA,MAAA,CAAO,MAAA,CACE,IAAA,CACA,MAAAI,CACH,EACF,MAAA,CACO,QAAAJ,EACI,SAAAG,CACC,EACZ,OAAA,CACQ,GAAAK,EACH,mBAAAK,EACiB,oBAAAd,GAAAc,EAAAA,EAAA,OAC8B,eAAAd,EAClC,SAAAQ,EAChB,GAAAP,CACA,EACF,SAAAK,EACA,KAAAH,GAAAH,EAAA,CAGM,SAAAE,EACY,GAAAY,CACN,EAAA,IAEN,EACR,eAAAC,EAAAC,EAAA,QAAAjB,CAAA,EACsD,cAAAgB,EAAA,CAC3B,CAAAC,EAAA,OAAA,EAAA,GACL,CAAAA,EAAA,OAAA,EAAAhB,EACA,CAAAgB,EAAA,QAAA,EAAAR,EACC,CAAAQ,EAAA,QAAA,EAAAT,CACA,CAAA,EACtB,qBAAAQ,EAAA,CACgC,CAAAC,EAAA,aAAA,EAAA,EACL,CAAA,EAC3B,gBAAAD,EAAA,CAC2B,CAAAE,EAAA,QAAA,EAAA,GACH,CAAAA,EAAA,eAAA,EAAAjB,CACO,CAAA,EAC/B,aAAAe,EAAA,CACwB,CAAAG,EAAA,KAAA,EAAA,GACN,CAAAA,EAAA,YAAA,EAAAlB,CACO,CAAA,EACzB,eAAAe,EAAA,CAC0B,CAAAC,EAAA,OAAA,EAAA,GACL,CAAAA,EAAA,eAAA,EAAAR,CACQ,CAAA,CAC7B,CAEL,EAEA,SAAAW,GAAArB,EAAAsB,EAAA,CACE,MAAAnB,EAAAoB,EAAAvB,EAAA,EAAA,EACA,CAAA,MAAAwB,EAAA,eAAAC,EAAA,cAAAC,EAAA,qBAAAC,EAAA,gBAAAC,EAAA,aAAAC,EAAA,eAAAC,CAAA,EAAA/B,GAAA,CAAA,GAAAC,EAAA,GAAAG,CAAA,CAAA,EACA,CAAA,IAAA4B,EAAA,MAAAzB,EAAA,OAAA0B,EAAA,KAAAC,EAAA,SAAAzB,CAAA,EAAAgB,EAEA,OAAAU,EAAAA,KAAA,MAAA,CAAA,UAAAT,EAAA,GAAAM,EAAA,SAAA,CAEKzB,EAAA,UAAA4B,OAAA,QAAA,CAAA,QAAA5B,EAAA,QAAA,UAAAuB,EAAA,SAAA,CAEIvB,EAAA,SAAME,GAAA2B,EAAAA,IAAA,OAAA,CAAA,UAAAf,EAAA,SAAA,SAAAgB,EAAA,EAGG,CACK,GAAA,wBACH,QAAA,aACK,QAAA,4CACA,CACX,EAAA,CAEJ,EAAA,EAEJF,EAAAA,KAAA,MAAA,CAAA,UAAAP,EAAA,SAAA,CAGAQ,EAAA,IAAA,SAAA,CAAA,IAAAb,EAAA,GAAAU,EAAA,UAAAN,EAAA,EAAuDS,EAAA,IACrD,MAAC,CAAA,UAAAlB,EAAAa,CAAA,EACqC,SAAAK,EAAAA,IAAAE,EAAA,EAAA,CAEjB,CAAA,CACrB,EAAA,EACJJ,GAAAE,EAAA,IAAA,MAAA,CAAA,UAAAP,EAAA,GAAAK,EAAA,CACoD,CAAA,CAAA,CAG1D,CAEA,MAAAK,EAAAC,EAAAA,WAAAlB,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}