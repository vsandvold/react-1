{"version":3,"file":"Expandable.stories-53d19084.js","sources":["../../packages/expandable/src/component.tsx"],"sourcesContent":["import { classNames } from '@chbphone55/classnames'\nimport {\n  box as ccBox,\n  expandable as ccExpandable,\n} from '@warp-ds/css/component-classes'\nimport React from 'react'\nimport { ExpandTransition, UnstyledHeading } from '../../_helpers'\nimport { ExpandableProps } from './props'\nimport { IconChevronDown16, IconChevronUp16 } from '@warp-ds/icons/react'\n\nexport function Expandable(props: ExpandableProps) {\n  const {\n    children,\n    expanded = false,\n    title = '',\n    info = false,\n    box = false,\n    bleed = false,\n    buttonClass = '',\n    contentClass = '',\n    className,\n    onChange,\n    chevron = true,\n    animated,\n    headingLevel,\n    ...rest\n  } = props\n\n  const [stateExpanded, setStateExpanded] = React.useState(expanded)\n  const [showChevronUp, setShowChevronUp] = React.useState(expanded)\n\n  React.useEffect(() => {\n    setStateExpanded(expanded)\n  }, [expanded])\n\n  const toggleExpandable = (state) => {\n    setStateExpanded(!state)\n    // We need a slight delay for the animation since it has a transition-duration of 150ms:\n    setTimeout(() => {\n      setShowChevronUp(!state)\n    }, 200)\n    if (onChange) onChange(!state)\n  }\n\n  return (\n    <div\n      {...rest}\n      className={classNames(className, {\n        [ccExpandable.expandable]: true,\n        [ccExpandable.expandableBox]: box,\n        [ccExpandable.expandableBleed]: bleed,\n      })}\n    >\n      <UnstyledHeading level={headingLevel}>\n        <button\n          type='button'\n          aria-expanded={stateExpanded}\n          className={classNames({\n            [buttonClass || '']: true,\n            [ccExpandable.button]: true,\n            [ccExpandable.buttonBox]: box,\n          })}\n          onClick={() => toggleExpandable(stateExpanded)}\n        >\n          <div className={ccExpandable.title}>\n            {typeof title === 'string' ? (\n              <span className={ccExpandable.titleType}>{title}</span>\n            ) : (\n              title\n            )}\n            {chevron && (\n              <div\n                className={classNames({\n                  [ccExpandable.chevron]: true,\n                  [ccExpandable.chevronBox]: box,\n                  [ccExpandable.chevronNonBox]: !box,\n                })}\n              >\n                {showChevronUp ? (\n                  <IconChevronUp16\n                    className={classNames({\n                      [ccExpandable.chevronTransform]: true,\n                      [ccExpandable.chevronCollapse]:\n                        !stateExpanded && showChevronUp,\n                    })}\n                  />\n                ) : (\n                  <IconChevronDown16\n                    className={classNames({\n                      [ccExpandable.chevronTransform]: true,\n                      [ccExpandable.chevronExpand]:\n                        stateExpanded && !showChevronUp,\n                    })}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        </button>\n      </UnstyledHeading>\n      <ExpansionBehaviour animated={animated} stateExpanded={stateExpanded}>\n        <div\n          className={classNames({\n            [contentClass || '']: true,\n            [ccBox.box]: box,\n            [ccExpandable.paddingTop]: box && title,\n          })}\n        >\n          {children}\n        </div>\n      </ExpansionBehaviour>\n    </div>\n  )\n}\n\nfunction ExpansionBehaviour({ animated, stateExpanded, children }) {\n  return animated ? (\n    <ExpandTransition show={stateExpanded}>{children}</ExpandTransition>\n  ) : (\n    <div\n      className={classNames({\n        [ccExpandable.expansion]: true,\n        [ccExpandable.expansionNotExpanded]: !stateExpanded,\n      })}\n      aria-hidden={!stateExpanded ? true : undefined}\n    >\n      {children}\n    </div>\n  )\n}\n"],"names":["Expandable","props","children","expanded","title","info","box","bleed","buttonClass","contentClass","className","onChange","chevron","animated","headingLevel","rest","stateExpanded","setStateExpanded","React","showChevronUp","setShowChevronUp","toggleExpandable","state","jsxs","classNames","ccExpandable","jsx","UnstyledHeading","IconChevronUp16","IconChevronDown16","ExpansionBehaviour","ccBox","ExpandTransition"],"mappings":"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"}