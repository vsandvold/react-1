{"version":3,"file":"component-70220378.js","sources":["../../packages/textfield/src/locales/nb/messages.mjs","../../packages/textfield/src/locales/en/messages.mjs","../../packages/textfield/src/locales/fi/messages.mjs","../../packages/textfield/src/component.tsx"],"sourcesContent":["/*eslint-disable*/export const messages=JSON.parse(\"{\\\"textfield.label.optional\\\":\\\"(valgfritt)\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"textfield.label.optional\\\":\\\"(optional)\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"textfield.label.optional\\\":\\\"(vapaaehtoinen)\\\"}\");","import React, { forwardRef } from 'react';\nimport { i18n } from '@lingui/core';\nimport { classNames } from '@chbphone55/classnames';\nimport { label as ccLabel, helpText as ccHelpText } from '@warp-ds/css/component-classes';\nimport { useId } from '../../utils/src';\nimport { TextFieldProps } from './props';\nimport { messages as nbMessages} from './locales/nb/messages.mjs';\nimport { messages as enMessages} from './locales/en/messages.mjs';\nimport { messages as fiMessages} from './locales/fi/messages.mjs';\nimport { activateI18n } from '../../i18n';\n\nexport const TextField = forwardRef<HTMLInputElement, TextFieldProps>(\n  (props, ref) => {\n    const {\n      className,\n      disabled,\n      id: providedId,\n      children,\n      invalid,\n      error,\n      helpText,\n      label,\n      readOnly,\n      type = 'text',\n      style,\n      optional,\n      ...rest\n    } = props;\n\n    activateI18n(enMessages, nbMessages, fiMessages);\n\n    const id = useId(providedId);\n\n    const helpId = helpText ? `${id}__hint` : undefined;\n    const isInvalid = invalid || error;\n\n    const suffix = React.Children.toArray(children).find(\n      (child) => React.isValidElement(child) && child.props.suffix,\n    );\n    const prefix = React.Children.toArray(children).find(\n      (child) => React.isValidElement(child) && child.props.prefix,\n    );\n\n    return (\n        <div \n          className={className}\n          style={style}\n        >\n          <style>{`\n            .s-outline-focused {\n              outline-color: var(--w-s-color-focused);\n            }`}\n          </style>\n          {label && (\n            <label htmlFor={id} className={classNames({\n              [ccLabel.label]: true,\n              [ccLabel.labelInvalid]: isInvalid\n            })} >\n              {label}\n              {optional && (\n                <span className={ccLabel.optional}>\n                  {i18n._(\n                    /*i18n*/ {\n                      id: 'textfield.label.optional',\n                      message: '(optional)',\n                      comment: 'Shown behind label when marked as optional',\n                    },\n                  )}\n                </span>\n              )}\n            </label>\n          )}\n          <div className=\"s-outline-focused focus-within:outline focus-within:-outline-offset-2 focus-within:outline-2 relative i-bg-$color-input-background i-border-$color-input-border hover:i-border-$color-input-border-hover rounded-4 overflow-hidden border-1 flex\">\n            {prefix}\n            <input\n            className={`text-m mb-0 leading-m i-text-$color-input-text-filled py-12 ${(prefix && suffix) ? \"px-0\" : prefix ? \"pl-0 pr-8\" : suffix ? \"pl-8 pr-0\" : \"px-8\"} block w-full caret-current outline-0`}\n              {...rest}\n              aria-describedby={helpId}\n              aria-errormessage={isInvalid && helpId ? helpId : undefined}\n              aria-invalid={isInvalid}\n              disabled={disabled}\n              id={id}\n              readOnly={readOnly}\n              ref={ref}\n              type={type}\n            />\n            {suffix}\n          </div>\n\n          {helpText && (\n            <div className={classNames({\n              [ccHelpText.helpText]: true,\n              [ccHelpText.helpTextInvalid]: isInvalid\n            })} id={helpId}>\n              {helpText}\n            </div>\n          )}\n        </div>\n    );\n  },\n);\n"],"names":["messages","TextField","forwardRef","props","ref","className","disabled","providedId","children","invalid","error","helpText","label","readOnly","type","style","optional","rest","activateI18n","enMessages","nbMessages","fiMessages","id","useId","helpId","isInvalid","suffix","React","child","prefix","jsxs","jsx","classNames","ccLabel","i18n","ccHelpText"],"mappings":"qOAAyB,MAAMA,EAAS,KAAK,MAAM,4CAAgD,ECApEA,EAAS,KAAK,MAAM,2CAA+C,ECAnEA,EAAS,KAAK,MAAM,gDAAoD,ECWhGC,EAAAC,EAAA,WAAkB,CAAAC,EAAAC,IAAA,CAErB,KAAA,CAAM,UAAAC,EACJ,SAAAC,EACA,GAAAC,EACI,SAAAC,EACJ,QAAAC,EACA,MAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,KAAAC,EAAA,OACO,MAAAC,EACP,SAAAC,EACA,GAAAC,CACG,EAAAd,EAGLe,EAAAC,EAAAC,EAAAC,CAAA,EAEA,MAAAC,EAAAC,EAAAhB,CAAA,EAEAiB,EAAAb,EAAA,GAAAW,UAAA,OACAG,EAAAhB,GAAAC,EAEAgB,EAAAC,EAAA,SAAA,QAAAnB,CAAA,EAAA,KAAgDoB,GAAAD,EAAA,eAAAC,CAAA,GAAAA,EAAA,MAAA,MACQ,EAExDC,EAAAF,EAAA,SAAA,QAAAnB,CAAA,EAAA,KAAgDoB,GAAAD,EAAA,eAAAC,CAAA,GAAAA,EAAA,MAAA,MACQ,EAGxD,OAAAE,EAAA,KACI,MAAC,CAAA,UAAAzB,EACC,MAAAU,EACA,SAAA,CAEAgB,MAAA,QAAA,CAAA,SAAA;AAAA;AAAA;AAAA,eAAQ,EAIRnB,GAAAkB,EAAA,KAAA,QAAA,CAAA,QAAAR,EAAA,UAAAU,EAAA,CAE4C,CAAAC,EAAA,KAAA,EAAA,GACvB,CAAAA,EAAA,YAAA,EAAAR,CACO,CAAA,EAAA,SAAA,CAEvBb,EAAAI,GAAAe,EAAAA,IAAA,OAAA,CAAA,UAAAE,EAAA,SAAA,SAAAC,EAAA,EAGS,CACK,GAAA,2BACH,QAAA,aACK,QAAA,4CACA,CACX,EAAA,CAEJ,EAAA,EAEJJ,EAAAA,KAAA,MAAA,CAAA,UAAA,mPAAA,SAAA,CAGCD,EAAAE,EAAA,IACD,QAAC,CAAA,UAAA,+DAAAF,GAAAH,EAAA,OAAAG,EAAA,YAAAH,EAAA,YAAA,8CACqJ,GAAAT,EAChJ,mBAAAO,EACc,oBAAAC,GAAAD,EAAAA,EAAA,OACgC,eAAAC,EACpC,SAAAnB,EACd,GAAAgB,EACA,SAAAT,EACA,IAAAT,EACA,KAAAU,CACA,CAAA,EACFY,CACC,EAAA,EACHf,GAAAoB,EAAAA,IAAA,MAAA,CAAA,UAAAC,EAAA,CAG6B,CAAAG,EAAA,QAAA,EAAA,GACF,CAAAA,EAAA,eAAA,EAAAV,CACO,CAAA,EAAA,GAAAD,EAAA,SAAAb,CAAA,CAAA,CAGhC,CAAA,CAAA,CAEJ,CAGR"}