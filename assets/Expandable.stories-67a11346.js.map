{"version":3,"file":"Expandable.stories-67a11346.js","sources":["../../node_modules/.pnpm/@warp-ds+icons@1.3.0-next.2/node_modules/@warp-ds/icons/dist/react/chevron-up-16.js","../../packages/expandable/src/component.tsx"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// react/chevron-up-16.js\nimport React from \"react\";\nimport { i18n as i18n2 } from \"@lingui/core\";\n\n// src/raw/chevron-up/locales/nb/messages.mjs\nvar messages = JSON.parse('{\"icon.title.chevron-up\":\"Oppoverpil\"}');\n\n// src/raw/chevron-up/locales/en/messages.mjs\nvar messages2 = JSON.parse('{\"icon.title.chevron-up\":\"Upward arrow\"}');\n\n// src/raw/chevron-up/locales/fi/messages.mjs\nvar messages3 = JSON.parse('{\"icon.title.chevron-up\":\"Nuoli yl\\xF6sp\\xE4in\"}');\n\n// src/utils/i18n.ts\nimport { i18n } from \"@lingui/core\";\nvar supportedLocales = [\"en\", \"nb\", \"fi\"];\nvar defaultLocale = \"en\";\nvar getSupportedLocale = (usedLocale) => {\n  return supportedLocales.find(\n    (locale) => usedLocale === locale || usedLocale.toLowerCase().includes(locale)\n  ) || defaultLocale;\n};\nfunction detectLocale() {\n  if (typeof window === \"undefined\") {\n    const serverLocale = process.env.NMP_LANGUAGE || Intl.DateTimeFormat().resolvedOptions().locale;\n    return getSupportedLocale(serverLocale);\n  }\n  try {\n    const htmlLocale = document.documentElement.lang;\n    return getSupportedLocale(htmlLocale);\n  } catch (e) {\n    console.warn(\"could not detect locale, falling back to source locale\", e);\n    return defaultLocale;\n  }\n}\nvar getMessages = (locale, enMsg, nbMsg, fiMsg) => {\n  if (locale === \"nb\")\n    return nbMsg;\n  if (locale === \"fi\")\n    return fiMsg;\n  return enMsg;\n};\nvar activateI18n = (enMessages, nbMessages, fiMessages) => {\n  const locale = detectLocale();\n  const messages4 = getMessages(locale, enMessages, nbMessages, fiMessages);\n  i18n.load(locale, messages4);\n  i18n.activate(locale);\n};\n\n// react/chevron-up-16.js\nactivateI18n(messages2, messages, messages3);\nvar title = i18n2.t({ message: `Upward arrow`, id: \"icon.title.chevron-up\", comment: \"Title for chevron-up icon\" });\nvar IconChevronUp16 = (attrs) => React.createElement(\"svg\", __spreadValues({ xmlns: \"http://www.w3.org/2000/svg\", width: \"16\", height: \"16\", fill: \"none\", viewBox: \"0 0 16 16\", dangerouslySetInnerHTML: { __html: `<title>${title}</title><path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M2.5 11 8 5.5l5.5 5.5\"></path>` } }, attrs));\nvar chevron_up_16_default = IconChevronUp16;\nexport {\n  IconChevronUp16,\n  chevron_up_16_default as default\n};\n//# sourceMappingURL=chevron-up-16.js.map\n","import { classNames } from \"@chbphone55/classnames\";\nimport {\n  box as ccBox,\n  expandable as ccExpandable,\n} from \"@warp-ds/css/component-classes\";\nimport React from \"react\";\nimport { ExpandTransition, UnstyledHeading } from \"../../_helpers/index.js\";\nimport { ExpandableProps } from \"./props.js\";\nimport IconChevronDown16 from '@warp-ds/icons/react/chevron-down-16';\nimport IconChevronUp16 from '@warp-ds/icons/react/chevron-up-16';\n\nexport function Expandable(props: ExpandableProps) {\n  const {\n    children,\n    expanded = false,\n    title = \"\",\n    info = false,\n    box = false,\n    bleed = false,\n    buttonClass = \"\",\n    contentClass = \"\",\n    className,\n    onChange,\n    chevron = true,\n    animated,\n    headingLevel,\n    ...rest\n  } = props;\n\n  const [stateExpanded, setStateExpanded] = React.useState(expanded);\n  const [showChevronUp, setShowChevronUp] = React.useState(expanded);\n\n  React.useEffect(() => {\n    setStateExpanded(expanded);\n  }, [expanded]);\n\n  const toggleExpandable = (state) => {\n    setStateExpanded(!state);\n    // We need a slight delay for the animation since it has a transition-duration of 150ms:\n    setTimeout(() => {\n      setShowChevronUp(!state);\n    }, 200);\n    if (onChange) onChange(!state);\n  };\n\n  return (\n    <div\n      {...rest}\n      className={classNames(className, {\n        [ccExpandable.expandable]: true,\n        [ccExpandable.expandableBox]: box,\n        [ccExpandable.expandableBleed]: bleed,\n      })}\n    >\n      <UnstyledHeading level={headingLevel}>\n        <button\n          type=\"button\"\n          aria-expanded={stateExpanded}\n          className={classNames({\n            [buttonClass || \"\"]: true,\n            [ccExpandable.button]: true,\n            [ccExpandable.buttonBox]: box,\n          })}\n          onClick={() => toggleExpandable(stateExpanded)}\n        >\n          <div className={ccExpandable.title}>\n            {typeof title === \"string\" ? (\n              <span className={ccExpandable.titleType}>{title}</span>\n            ) : (\n              title\n            )}\n            {chevron && (\n              <div\n                className={classNames({\n                  [ccExpandable.chevron]: true,\n                  [ccExpandable.chevronBox]: box,\n                  [ccExpandable.chevronNonBox]: !box,\n                })}\n              >\n                {showChevronUp ? (\n                  <IconChevronUp16\n                    className={classNames({\n                      [ccExpandable.chevronTransform]: true,\n                      [ccExpandable.chevronCollapse]:\n                        !stateExpanded && showChevronUp,\n                    })}\n                  />\n                ) : (\n                  <IconChevronDown16\n                    className={classNames({\n                      [ccExpandable.chevronTransform]: true,\n                      [ccExpandable.chevronExpand]:\n                        stateExpanded && !showChevronUp,\n                    })}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        </button>\n      </UnstyledHeading>\n      <ExpansionBehaviour animated={animated} stateExpanded={stateExpanded}>\n        <div\n          className={classNames({\n            [contentClass || \"\"]: true,\n            [ccBox.box]: box,\n            [ccExpandable.paddingTop]: box && title,\n          })}\n        >\n          {children}\n        </div>\n      </ExpansionBehaviour>\n    </div>\n  );\n}\n\nfunction ExpansionBehaviour({ animated, stateExpanded, children }) {\n  return animated ? (\n    <ExpandTransition show={stateExpanded}>{children}</ExpandTransition>\n  ) : (\n    <div\n      className={classNames({\n        [ccExpandable.expansion]: true,\n        [ccExpandable.expansionNotExpanded]: !stateExpanded,\n      })}\n      aria-hidden={!stateExpanded ? true : undefined}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":["__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","obj","key","value","__spreadValues","b","prop","messages","messages2","messages3","supportedLocales","defaultLocale","getSupportedLocale","usedLocale","locale","detectLocale","serverLocale","htmlLocale","e","getMessages","enMsg","nbMsg","fiMsg","activateI18n","enMessages","nbMessages","fiMessages","messages4","i18n","title","i18n2","IconChevronUp16","attrs","React","chevron_up_16_default","Expandable","props","children","expanded","info","box","bleed","buttonClass","contentClass","className","onChange","chevron","animated","headingLevel","rest","stateExpanded","setStateExpanded","showChevronUp","setShowChevronUp","toggleExpandable","state","jsxs","classNames","ccExpandable","jsx","UnstyledHeading","IconChevronDown16","ExpansionBehaviour","ccBox","ExpandTransition"],"mappings":"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","x_google_ignoreList":[0]}