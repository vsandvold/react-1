{"version":3,"file":"Breadcrumbs.stories-2e4af45c.js","sources":["../../node_modules/.pnpm/@warp-ds+core@1.0.0/node_modules/@warp-ds/core/dist/breadcrumbs/index.js","../../packages/breadcrumbs/src/locales/en/messages.mjs","../../packages/breadcrumbs/src/locales/nb/messages.mjs","../../packages/breadcrumbs/src/locales/fi/messages.mjs","../../packages/breadcrumbs/src/component.tsx"],"sourcesContent":["/**\n * Inject a separator between each item in a list\n * @param array List of items\n * @param separator Element to be interleaved between each item\n * @returns\n */\nexport function interleave(array, separator) {\n    return array.flatMap((el) => [el, separator]).slice(0, -1);\n}\n","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"breadcrumbs.ariaLabel\\\":\\\"You are here\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"breadcrumbs.ariaLabel\\\":\\\"Her er du\\\"}\");","/*eslint-disable*/export const messages=JSON.parse(\"{\\\"breadcrumbs.ariaLabel\\\":\\\"Olet tässä\\\"}\");","import * as React from 'react';\nimport type { BreadcrumbsProps } from './props';\nimport { interleave } from '@warp-ds/core/breadcrumbs';\nimport { breadcrumbs as ccBreadcrumbs } from \"@warp-ds/css/component-classes\";\nimport { i18n } from '@lingui/core';\nimport { messages as enMessages} from './locales/en/messages.mjs';\nimport { messages as nbMessages} from './locales/nb/messages.mjs';\nimport { messages as fiMessages} from './locales/fi/messages.mjs';\nimport { activateI18n } from '../../i18n';\n\nexport const Breadcrumbs = (props: BreadcrumbsProps) => {\n  const { children, className, ...rest } = props;\n\n  activateI18n(enMessages, nbMessages, fiMessages);\n\n  const ariaLabel = props['aria-label'] || i18n._(\n    /*i18n*/ {\n      id: 'breadcrumbs.ariaLabel',\n      message: 'You are here',\n      comment: 'Default screenreader message for the breadcrumb component',\n    });\n\n  // Handles arrays of nodes passed as children\n  const flattenedChildren = children.flat(Infinity);\n  const styledChildren = flattenedChildren.map((child, index) => {\n      if (React.isValidElement(child)) {\n        const ccClasses = child.type === \"a\" ? ccBreadcrumbs.link : ccBreadcrumbs.text;\n        const newClasses = child.props.className ? `${child.props.className} ${ccClasses}` : ccClasses;\n\n       // To update a prop on React child element, we need to clone that Element first\n        const styledChild = React.cloneElement(child as React.ReactElement, { className: newClasses });\n        return styledChild;\n      }\n\n      const isLastEl = index === flattenedChildren.length - 1;\n\n      return <span className={ccBreadcrumbs.text} aria-current={isLastEl ? \"page\" : undefined}>{child}</span>;\n    }\n  )\n\n  return (\n    <nav\n      className={className}\n      aria-label={ariaLabel}\n      {...rest}\n    >\n      <h2 className={ccBreadcrumbs.a11y}>{ariaLabel}</h2>\n      <div className={ccBreadcrumbs.wrapper}>\n        {interleave(\n          styledChildren,\n          <span aria-hidden className={ccBreadcrumbs.separator}>\n            /\n          </span>,\n        ).map((element, index) => (\n          <React.Fragment key={index}>{element}</React.Fragment>\n        ))}\n      </div>\n    </nav>\n  );\n};\n"],"names":["interleave","array","separator","el","messages","Breadcrumbs","props","children","className","rest","activateI18n","enMessages","nbMessages","fiMessages","ariaLabel","i18n","flattenedChildren","styledChildren","child","index","React.isValidElement","ccClasses","ccBreadcrumbs","newClasses","React.cloneElement","isLastEl","jsx","jsxs","element","React.Fragment"],"mappings":"qIAMO,SAASA,EAAWC,EAAOC,EAAW,CACzC,OAAOD,EAAM,QAASE,GAAO,CAACA,EAAID,CAAS,CAAC,EAAE,MAAM,EAAG,EAAE,CAC7D,CCRyB,MAAME,EAAS,KAAK,MAAM,0CAA8C,ECAlEA,EAAS,KAAK,MAAM,uCAA2C,ECA/DA,EAAS,KAAK,MAAM,wCAA4C,ECUxFC,EAAAC,GAAA,CACL,KAAA,CAAA,SAAAC,EAAA,UAAAC,EAAA,GAAAC,CAAA,EAAAH,EAEAI,EAAAC,EAAAC,EAAAC,CAAA,EAEA,MAAAC,EAAAR,EAAA,YAAA,GAAAS,EAAA,EAA8C,CACnC,GAAA,wBACH,QAAA,eACK,QAAA,2DACA,CACX,EAGFC,EAAAT,EAAA,KAAA,GAAA,EACAU,EAAAD,EAAA,IAAyC,CAAAE,EAAAC,IAAA,CACrC,GAAAC,EAAAA,eAAAF,CAAA,EAAA,CACE,MAAAG,EAAAH,EAAA,OAAA,IAAAI,EAAA,KAAAA,EAAA,KACAC,EAAAL,EAAA,MAAA,UAAA,GAAAA,EAAA,MAAA,aAAAG,IAAAA,EAIA,OADAG,EAAAA,aAAAN,EAAA,CAAA,UAAAK,CAAA,CAAA,EAIF,MAAAE,EAAAN,IAAAH,EAAA,OAAA,EAEA,OAAAU,EAAA,IAAA,OAAA,CAAA,UAAAJ,EAAA,KAAA,eAAAG,EAAA,OAAA,OAAA,SAAAP,CAAA,CAAA,CAAgG,CAClG,EAGF,OAAAS,EAAA,KACE,MAAC,CAAA,UAAAnB,EACC,aAAAM,EACY,GAAAL,EACR,SAAA,CAEJiB,EAAA,IAAA,KAAA,CAAA,UAAAJ,EAAA,KAAA,SAAAR,EAAA,EAA8CY,EAAA,IAAA,MAAA,CAAA,UAAAJ,EAAA,QAAA,SAAAtB,EAE3CiB,EACCS,MAAA,OAAA,CAAA,cAAA,GAAA,UAAAJ,EAAA,UAAA,SAAA,IAAA,CAGA,EAAA,IAAA,CAAAM,EAAAT,IAAAO,EAAAA,IAAAG,EAAAA,SAAA,CAAA,SAAAD,CAAA,EAAAT,CAAA,CAAA,CAAA,CAAA,CAIJ,CAAA,CAAA,CAGN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","x_google_ignoreList":[0]}