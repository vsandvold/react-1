{"version":3,"file":"Card.stories-21dceede.js","sources":["../../packages/utils/src/useLogDeprecationWarning.ts","../../packages/card/src/component.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\n\nexport const useLogDeprecationWarning = ({\n  condition,\n  message,\n}: {\n  condition: Boolean;\n  message: string;\n}) => {\n  const loggedOnce = useRef(false);\n\n  useEffect(() => {\n    if (loggedOnce.current) {\n      return;\n    }\n\n    if (condition) {\n      console.warn(message);\n      loggedOnce.current = true;\n    }\n  }, [condition, message]);\n};\n","import React from 'react';\nimport { card as ccCard } from '@warp-ds/css/component-classes';\nimport { classNames } from '@chbphone55/classnames';\nimport { CardProps } from './props';\nimport { useLogDeprecationWarning } from '../../utils/src';\n\nexport function Card(props: CardProps) {\n  const { as = 'div', children, flat, ...rest } = props;\n\n  useLogDeprecationWarning({\n    condition: !!props.onClick,\n    message:\n      \"'onClick' prop in Card is deprecated. Use Clickable component to handle click events in Cards.\",\n  });\n\n  return React.createElement(\n    as,\n    {\n      ...rest,\n      className: classNames(props.className, {\n        [ccCard.card]: true,\n        [ccCard.cardShadow]: !props.flat,\n        [ccCard.cardSelected]: props.selected,\n        [ccCard.cardFlat]: props.flat,\n        [props.selected ? ccCard.cardFlatSelected : ccCard.cardFlatUnselected]:\n          props.flat,\n      }),\n      // @balbinak(08.11.22): onClick support in Card is deprecated. Remove when Fabric React users are ready for this major change\n      tabIndex: props.onClick ? 0 : undefined,\n      onKeyDown: props.onClick\n        ? (e) => {\n            if (\n              typeof props.onClick === 'function' &&\n              (e.key === 'Enter' || e.key === ' ')\n            ) {\n              e.preventDefault();\n              props.onClick();\n              return;\n            }\n          }\n        : undefined,\n    },\n    <>\n      {props.onClick && (\n        <button\n          className=\"sr-only\"\n          aria-pressed={props.selected}\n          tabIndex={-1}\n          type=\"button\"\n        >\n          Velg\n        </button>\n      )}\n\n      {!props.flat && (\n        <div\n          className={classNames({\n            [ccCard.cardOutline]: true,\n            [props.selected ? ccCard.cardOutlineSelected : ccCard.cardOutlineUnselected]:\n              true,\n          })}\n        />\n      )}\n\n      {children}\n    </>,\n  );\n}\n"],"names":["useLogDeprecationWarning","condition","message","loggedOnce","useRef","useEffect","Card","props","as","children","flat","rest","React","classNames","ccCard","e","jsxs","Fragment","jsx"],"mappings":"oRAEO,MAAMA,EAA2B,CAAC,CACvC,UAAAC,EACA,QAAAC,CACF,IAGM,CACE,MAAAC,EAAaC,SAAO,EAAK,EAE/BC,EAAAA,UAAU,IAAM,CACVF,EAAW,SAIXF,IACF,QAAQ,KAAKC,CAAO,EACpBC,EAAW,QAAU,GACvB,EACC,CAACF,EAAWC,CAAO,CAAC,CACzB,ECfO,SAAAI,EAAAC,EAAA,CACL,KAAA,CAAA,GAAAC,EAAA,MAAA,SAAAC,EAAA,KAAAC,EAAA,GAAAC,CAAA,EAAAJ,EAEA,OAAAP,EAAA,CAAyB,UAAA,CAAA,CAAAO,EAAA,QACJ,QAAA,gGAEjB,CAAA,EAGJK,EAAA,cAAaJ,EACX,CACA,GAAAG,EACK,UAAAE,EAAAN,EAAA,UAAA,CACoC,CAAAO,EAAA,IAAA,EAAA,GACtB,CAAAA,EAAA,UAAA,EAAA,CAAAP,EAAA,KACa,CAAAO,EAAA,YAAA,EAAAP,EAAA,SACC,CAAAO,EAAA,QAAA,EAAAP,EAAA,KACJ,CAAAA,EAAA,SAAAO,EAAA,iBAAAA,EAAA,kBAAA,EAAAP,EAAA,IAEjB,CAAA,EACT,SAAAA,EAAA,QAAA,EAAA,OAE6B,UAAAA,EAAA,QAAAQ,GAAA,CAGxB,GAAA,OAAAR,EAAA,SAAA,aAAAQ,EAAA,MAAA,SAAAA,EAAA,MAAA,KAAA,CAIEA,EAAA,eAAA,EACAR,EAAA,QAAA,EACA,OACF,EAAA,MAEF,EACNS,OAAAC,EAAAA,SAAA,CAAA,SAAA,CAEGV,EAAA,SAAAW,EAAA,IACC,SAAC,CAAA,UAAA,UACW,eAAAX,EAAA,SACU,SAAA,GACV,KAAA,SACL,SAAA,MACN,CAAA,EAED,CAAAA,EAAA,MAAAW,EAAA,IAIA,MAAC,CAAA,UAAAL,EAAA,CACuB,CAAAC,EAAA,WAAA,EAAA,GACE,CAAAP,EAAA,SAAAO,EAAA,oBAAAA,EAAA,qBAAA,EAAA,EAEpB,CAAA,CACH,CAAA,EACHL,CAGD,EAAA,CACH,CAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}